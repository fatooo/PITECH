


ARM Macro Assembler    Page 1 


    1 00000000         ;*******************************************************
                       ******** 
    2 00000000         ; EQU Directives
    3 00000000         ; These directives do not allocate memory
    4 00000000         ;*******************************************************
                       ********
    5 00000000         ;SYMBOL    DIRECTIVE VALUE   COMMENT
    6 00000000 400FE608 
                       SYSCTL_RCGCGPIO
                               EQU              0x400FE608  ;Enable GPIO
    7 00000000 40004400 
                       GPIO_PORTA_DIR
                               EQU              0x40004400  ;Direction reg
    8 00000000 40004420 
                       GPIO_PORTA_AFSEL
                               EQU              0x40004420  ;Alternate function
                                                            
    9 00000000 4000452C 
                       GPIO_PORTA_PCTL
                               EQU              0x4000452C  ;Port Control
   10 00000000 4000451C 
                       GPIO_PORTA_DEN
                               EQU              0x4000451C  ;Digital enable
   11 00000000 40004528 
                       GPIO_PORTA_AMSEL
                               EQU              0x40004528  ;Analog Enable
   12 00000000         
   13 00000000 400FE61C 
                       SYSCTL_RCGCSSI
                               EQU              0x400FE61C  ;Enable SSI
   14 00000000 40008000 
                       SSI0_CR0
                               EQU              0x40008000  ;SSI Control 0
   15 00000000 40008004 
                       SSI0_CR1
                               EQU              0x40008004  ;SSI Control 1
   16 00000000 40008010 
                       SSI0_CPSR
                               EQU              0x40008010  ;Clock Prescale
   17 00000000         ;*******************************************************
                       ********
   18 00000000         ; Directives - This Data Section is part of the code
   19 00000000         ; It is in the read only section  so values cannot be ch
                       anged.
   20 00000000         ;*******************************************************
                       ******** 
   21 00000000         ;LABEL  DIRECTIVE VALUE     COMMENT
   22 00000000                 AREA             sdata, DATA, READONLY
   23 00000000                 THUMB
   24 00000000         
   25 00000000         ;*******************************************************
                       ********
   26 00000000         ; Program section           
   27 00000000         ;*******************************************************
                       ********
   28 00000000         ;LABEL  DIRECTIVE VALUE     COMMENT
   29 00000000                 AREA             routines,READONLY,CODE
   30 00000000                 THUMB
   31 00000000                 ALIGN



ARM Macro Assembler    Page 2 


   32 00000000                 EXPORT           SPI_CONFIG
   33 00000000         
   34 00000000         ;*******************************************************
                       ********
   35 00000000         ; Main Function
   36 00000000         ;*******************************************************
                       ******** 
   37 00000000         ;LABEL  DIRECTIVE VALUE     COMMENT
   38 00000000         SPI_CONFIG
                               PROC
   39 00000000         
   40 00000000 4921    GPIO_INIT
                               LDR              R1,=SYSCTL_RCGCGPIO 
                                                            ; Initalize Clock
   41 00000002 6808            LDR              R0,[R1]
   42 00000004 F040 0001       ORR              R0,R0,#0x01
   43 00000008 6008            STR              R0,[R1]
   44 0000000A BF00            NOP
   45 0000000C BF00            NOP
   46 0000000E BF00            NOP
   47 00000010 BF00            NOP                          ; let GPIO clock st
                                                            abilize  
   48 00000012         
   49 00000012 491E            LDR              R1,=GPIO_PORTA_DIR ;Set Directi
                                                            on of Pins
   50 00000014 6808            LDR              R0,[R1]
   51 00000016 F040 002C       ORR              R0,R0,#0x2C ;PA2,PA3,PA5 are ou
                                                            tput
   52 0000001A F020 0010       BIC              R0,R0,#0x10 ;PA4 is input
   53 0000001E 6008            STR              R0,[R1]
   54 00000020         
   55 00000020 491B            LDR              R1,=GPIO_PORTA_DEN ;Digitally e
                                                            nable ports
   56 00000022 6808            LDR              R0,[R1]
   57 00000024 F040 003C       ORR              R0,R0,#0x3C
   58 00000028 6008            STR              R0,[R1]
   59 0000002A         
   60 0000002A 491A            LDR              R1,=GPIO_PORTA_AMSEL ;Disable a
                                                            nalog Function
   61 0000002C 6808            LDR              R0,[R1]
   62 0000002E F020 003C       BIC              R0,R0,#0x3C
   63 00000032 6008            STR              R0,[R1]
   64 00000034         
   65 00000034 4918            LDR              R1,=GPIO_PORTA_AFSEL ;Enable Al
                                                            ternate Functions
   66 00000036 6808            LDR              R0,[R1]
   67 00000038 F040 003C       ORR              R0,R0,#0x3C
   68 0000003C 6008            STR              R0,[R1]
   69 0000003E         
   70 0000003E 4917            LDR              R1,=GPIO_PORTA_PCTL ;Route SSI 
                                                            interface to pins
   71 00000040 6808            LDR              R0,[R1]
   72 00000042 4A17            LDR              R2,=0x222200
   73 00000044 EA40 0002       ORR              R0,R0,R2
   74 00000048 6008            STR              R0,[R1]
   75 0000004A         
   76 0000004A         
   77 0000004A 4916    SPI_INIT
                               LDR              R1,=SYSCTL_RCGCSSI 



ARM Macro Assembler    Page 3 


                                                            ; Initalize Clock
   78 0000004C 6808            LDR              R0,[R1]
   79 0000004E F040 0001       ORR              R0,R0,#0x01
   80 00000052 6008            STR              R0,[R1]
   81 00000054 BF00            NOP
   82 00000056 BF00            NOP
   83 00000058 BF00            NOP
   84 0000005A BF00            NOP
   85 0000005C BF00            NOP
   86 0000005E         
   87 0000005E 4912            LDR              R1,=SSI0_CR1 ;Disable SSI inter
                                                            face
   88 00000060 6808            LDR              R0,[R1]
   89 00000062 F020 0002       BIC              R0,R0,#0x02
   90 00000066 6008            STR              R0,[R1]
   91 00000068         
   92 00000068 4910            LDR              R1,=SSI0_CPSR ;Enable Clock Pre
                                                            scale
   93 0000006A 6808            LDR              R0,[R1]
   94 0000006C F040 0004       ORR              R0,R0,#0x04
   95 00000070 6008            STR              R0,[R1]
   96 00000072         
   97 00000072 490F            LDR              R1,=SSI0_CR0 ;Control 0
   98 00000074 6808            LDR              R0,[R1]
   99 00000076 F040 0007       ORR              R0,R0,#0x07
  100 0000007A 6008            STR              R0,[R1]
  101 0000007C         
  102 0000007C 490A            LDR              R1,=SSI0_CR1 ;Enable SSI interf
                                                            ace
  103 0000007E 6808            LDR              R0,[R1]
  104 00000080 F040 0002       ORR              R0,R0,#0x02
  105 00000084 6008            STR              R0,[R1]
  106 00000086         
  107 00000086 4770            BX               LR
  108 00000088         ;*******************************************************
                       ********
  109 00000088         ; End of the program  section
  110 00000088         ;*******************************************************
                       ********
  111 00000088         ;LABEL      DIRECTIVE       VALUE                       
                           COMMENT
  112 00000088                 ENDP
  113 00000088                 ALIGN
  114 00000088                 END
              400FE608 
              40004400 
              4000451C 
              40004528 
              40004420 
              4000452C 
              00222200 
              400FE61C 
              40008004 
              40008010 
              40008000 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\spi_config.d -o.\objects\spi_config.o -I.\RTE\_Target
_1 -ID:\Work\ARM\PACK\Keil\TM4C_DFP\1.1.0\Device\Include\TM4C123 -ID:\Work\ARM\
CMSIS\Include --predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION SETA 5



ARM Macro Assembler    Page 4 


26" --predefine="TM4C123GH6PM SETA 1" --list=.\listings\spi_config.lst SPI_conf
ig.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

sdata 00000000

Symbol: sdata
   Definitions
      At line 22 in file SPI_config.s
   Uses
      None
Comment: sdata unused
1 symbol



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

GPIO_INIT 00000000

Symbol: GPIO_INIT
   Definitions
      At line 40 in file SPI_config.s
   Uses
      None
Comment: GPIO_INIT unused
SPI_CONFIG 00000000

Symbol: SPI_CONFIG
   Definitions
      At line 38 in file SPI_config.s
   Uses
      At line 32 in file SPI_config.s
Comment: SPI_CONFIG used once
SPI_INIT 0000004A

Symbol: SPI_INIT
   Definitions
      At line 77 in file SPI_config.s
   Uses
      None
Comment: SPI_INIT unused
routines 00000000

Symbol: routines
   Definitions
      At line 29 in file SPI_config.s
   Uses
      None
Comment: routines unused
4 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

GPIO_PORTA_AFSEL 40004420

Symbol: GPIO_PORTA_AFSEL
   Definitions
      At line 8 in file SPI_config.s
   Uses
      At line 65 in file SPI_config.s
Comment: GPIO_PORTA_AFSEL used once
GPIO_PORTA_AMSEL 40004528

Symbol: GPIO_PORTA_AMSEL
   Definitions
      At line 11 in file SPI_config.s
   Uses
      At line 60 in file SPI_config.s
Comment: GPIO_PORTA_AMSEL used once
GPIO_PORTA_DEN 4000451C

Symbol: GPIO_PORTA_DEN
   Definitions
      At line 10 in file SPI_config.s
   Uses
      At line 55 in file SPI_config.s
Comment: GPIO_PORTA_DEN used once
GPIO_PORTA_DIR 40004400

Symbol: GPIO_PORTA_DIR
   Definitions
      At line 7 in file SPI_config.s
   Uses
      At line 49 in file SPI_config.s
Comment: GPIO_PORTA_DIR used once
GPIO_PORTA_PCTL 4000452C

Symbol: GPIO_PORTA_PCTL
   Definitions
      At line 9 in file SPI_config.s
   Uses
      At line 70 in file SPI_config.s
Comment: GPIO_PORTA_PCTL used once
SSI0_CPSR 40008010

Symbol: SSI0_CPSR
   Definitions
      At line 16 in file SPI_config.s
   Uses
      At line 92 in file SPI_config.s
Comment: SSI0_CPSR used once
SSI0_CR0 40008000

Symbol: SSI0_CR0
   Definitions
      At line 14 in file SPI_config.s
   Uses
      At line 97 in file SPI_config.s
Comment: SSI0_CR0 used once
SSI0_CR1 40008004

Symbol: SSI0_CR1



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

   Definitions
      At line 15 in file SPI_config.s
   Uses
      At line 87 in file SPI_config.s
      At line 102 in file SPI_config.s

SYSCTL_RCGCGPIO 400FE608

Symbol: SYSCTL_RCGCGPIO
   Definitions
      At line 6 in file SPI_config.s
   Uses
      At line 40 in file SPI_config.s
Comment: SYSCTL_RCGCGPIO used once
SYSCTL_RCGCSSI 400FE61C

Symbol: SYSCTL_RCGCSSI
   Definitions
      At line 13 in file SPI_config.s
   Uses
      At line 77 in file SPI_config.s
Comment: SYSCTL_RCGCSSI used once
10 symbols
351 symbols in table
