


ARM Macro Assembler    Page 1 


    1 00000000         ;*******************************************************
                       ******** 
    2 00000000         ; EQU Directives
    3 00000000         ; These directives do not allocate memory
    4 00000000         ;*******************************************************
                       ********
    5 00000000         ;SYMBOL    DIRECTIVE VALUE   COMMENT
    6 00000000 400FE608 
                       SYSCTL_RCGCGPIO
                               EQU              0x400FE608  ;Enable GPIO
    7 00000000 40004400 
                       GPIO_PORTA_DIR
                               EQU              0x40004400  ;Direction reg
    8 00000000 40004420 
                       GPIO_PORTA_AFSEL
                               EQU              0x40004420  ;Alternate function
                                                            
    9 00000000 4000452C 
                       GPIO_PORTA_PCTL
                               EQU              0x4000452C  ;Port Control
   10 00000000 4000451C 
                       GPIO_PORTA_DEN
                               EQU              0x4000451C  ;Digital enable
   11 00000000 40004528 
                       GPIO_PORTA_AMSEL
                               EQU              0x40004528  ;Analog Enable
   12 00000000         
   13 00000000 400FE61C 
                       SYSCTL_RCGCSSI
                               EQU              0x400FE61C  ;Enable SSI
   14 00000000 40008000 
                       SSI0_CR0
                               EQU              0x40008000  ;SSI Control 0
   15 00000000 40008004 
                       SSI0_CR1
                               EQU              0x40008004  ;SSI Control 1
   16 00000000 40008010 
                       SSI0_CPSR
                               EQU              0x40008010  ;Clock Prescale
   17 00000000 40008FC8 
                       SSI0_CC EQU              0x40008FC8  ;Clock Configuratio
                                                            n
   18 00000000         ;*******************************************************
                       ********
   19 00000000         ; Directives - This Data Section is part of the code
   20 00000000         ; It is in the read only section  so values cannot be ch
                       anged.
   21 00000000         ;*******************************************************
                       ******** 
   22 00000000         ;LABEL  DIRECTIVE VALUE     COMMENT
   23 00000000                 AREA             sdata, DATA, READONLY
   24 00000000                 THUMB
   25 00000000         
   26 00000000         ;*******************************************************
                       ********
   27 00000000         ; Program section           
   28 00000000         ;*******************************************************
                       ********
   29 00000000         ;LABEL  DIRECTIVE VALUE     COMMENT



ARM Macro Assembler    Page 2 


   30 00000000                 AREA             routines,READONLY,CODE
   31 00000000                 THUMB
   32 00000000                 ALIGN
   33 00000000                 EXPORT           SPI_CONFIG
   34 00000000         
   35 00000000         ;*******************************************************
                       ********
   36 00000000         ; Main Function
   37 00000000         ; CE - PA3
   38 00000000         ; Din- PA5
   39 00000000         ; CLK- PA2
   40 00000000         ;*******************************************************
                       ******** 
   41 00000000         ;LABEL  DIRECTIVE VALUE     COMMENT
   42 00000000         SPI_CONFIG
                               PROC
   43 00000000         
   44 00000000 4925    GPIO_INIT
                               LDR              R1,=SYSCTL_RCGCGPIO 
                                                            ; Initalize Clock
   45 00000002 6808            LDR              R0,[R1]
   46 00000004 F040 0001       ORR              R0,R0,#0x01
   47 00000008 6008            STR              R0,[R1]
   48 0000000A BF00            NOP
   49 0000000C BF00            NOP
   50 0000000E BF00            NOP
   51 00000010 BF00            NOP                          ; let GPIO clock st
                                                            abilize  
   52 00000012         
   53 00000012 4922            LDR              R1,=GPIO_PORTA_DIR ;Set Directi
                                                            on of Pins
   54 00000014 6808            LDR              R0,[R1]
   55 00000016 F040 002C       ORR              R0,R0,#0x2C ;PA2,PA3,PA5 are ou
                                                            tput
   56 0000001A F020 0010       BIC              R0,R0,#0x10 ;PA4 is input
   57 0000001E 6008            STR              R0,[R1]
   58 00000020         
   59 00000020 491F            LDR              R1,=GPIO_PORTA_DEN ;Digitally e
                                                            nable ports
   60 00000022 6808            LDR              R0,[R1]
   61 00000024 F040 003C       ORR              R0,R0,#0x3C
   62 00000028 6008            STR              R0,[R1]
   63 0000002A         
   64 0000002A 491E            LDR              R1,=GPIO_PORTA_AMSEL ;Disable a
                                                            nalog Function
   65 0000002C 6808            LDR              R0,[R1]
   66 0000002E F020 003C       BIC              R0,R0,#0x3C
   67 00000032 6008            STR              R0,[R1]
   68 00000034         
   69 00000034 491C            LDR              R1,=GPIO_PORTA_AFSEL ;Enable Al
                                                            ternate Functions
   70 00000036 6808            LDR              R0,[R1]
   71 00000038 F040 003C       ORR              R0,R0,#0x3C
   72 0000003C 6008            STR              R0,[R1]
   73 0000003E         
   74 0000003E 491B            LDR              R1,=GPIO_PORTA_PCTL ;Route SSI 
                                                            interface to pins
   75 00000040 6808            LDR              R0,[R1]
   76 00000042 4A1B            LDR              R2,=0x222200



ARM Macro Assembler    Page 3 


   77 00000044 EA40 0002       ORR              R0,R0,R2
   78 00000048 6008            STR              R0,[R1]
   79 0000004A         
   80 0000004A         
   81 0000004A 491A    SPI_INIT
                               LDR              R1,=SYSCTL_RCGCSSI 
                                                            ; Initalize Clock
   82 0000004C 6808            LDR              R0,[R1]
   83 0000004E F040 0001       ORR              R0,R0,#0x01
   84 00000052 6008            STR              R0,[R1]
   85 00000054 BF00            NOP
   86 00000056 BF00            NOP
   87 00000058 BF00            NOP
   88 0000005A BF00            NOP
   89 0000005C BF00            NOP
   90 0000005E         
   91 0000005E 4916            LDR              R1,=SSI0_CR1 ;Disable SSI inter
                                                            face
   92 00000060 6808            LDR              R0,[R1]
   93 00000062 F020 0000       BIC              R0,R0,#0x00
   94 00000066 6008            STR              R0,[R1]
   95 00000068         
   96 00000068 4914            LDR              R1,=SSI0_CC ;Clock Configuratio
                                                            n
   97 0000006A 6808            LDR              R0,[R1]
   98 0000006C F020 000F       BIC              R0,R0,#0x0F ;Choose SYSTEM CLK
   99 00000070 6008            STR              R0,[R1]
  100 00000072         
  101 00000072 4913            LDR              R1,=SSI0_CPSR ;Enable Clock Pre
                                                            scale
  102 00000074 6808            LDR              R0,[R1]
  103 00000076 F040 0002       ORR              R0,R0,#0x02 ;80MHz to 40MHz  
  104 0000007A 6008            STR              R0,[R1]
  105 0000007C         
  106 0000007C 4911            LDR              R1,=SSI0_CR0 ;Control 0
  107 0000007E 6808            LDR              R0,[R1]
  108 00000080 F440 6010       ORR              R0,R0,#0x900 ;40MHz to 4MHz
  109 00000084 F040 0007       ORR              R0,R0,#0x07 ;8 bit Freescale mo
                                                            de
  110 00000088 6008            STR              R0,[R1]
  111 0000008A         
  112 0000008A 490B            LDR              R1,=SSI0_CR1 ;Enable SSI interf
                                                            ace
  113 0000008C 6808            LDR              R0,[R1]
  114 0000008E F040 0002       ORR              R0,R0,#0x02
  115 00000092 6008            STR              R0,[R1]
  116 00000094         
  117 00000094 4770            BX               LR
  118 00000096         ;*******************************************************
                       ********
  119 00000096         ; End of the program  section
  120 00000096         ;*******************************************************
                       ********
  121 00000096         ;LABEL      DIRECTIVE       VALUE                       
                           COMMENT
  122 00000096                 ENDP
  123 00000096 00 00           ALIGN
  124 00000098                 END
              400FE608 



ARM Macro Assembler    Page 4 


              40004400 
              4000451C 
              40004528 
              40004420 
              4000452C 
              00222200 
              400FE61C 
              40008004 
              40008FC8 
              40008010 
              40008000 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\spi_config.d -o.\objects\spi_config.o -I.\RTE\_Target
_1 -ID:\Work\ARM\PACK\Keil\TM4C_DFP\1.1.0\Device\Include\TM4C123 -ID:\Work\ARM\
CMSIS\Include --predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION SETA 5
26" --predefine="TM4C123GH6PM SETA 1" --list=.\listings\spi_config.lst SPI_conf
ig.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

sdata 00000000

Symbol: sdata
   Definitions
      At line 23 in file SPI_config.s
   Uses
      None
Comment: sdata unused
1 symbol



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

GPIO_INIT 00000000

Symbol: GPIO_INIT
   Definitions
      At line 44 in file SPI_config.s
   Uses
      None
Comment: GPIO_INIT unused
SPI_CONFIG 00000000

Symbol: SPI_CONFIG
   Definitions
      At line 42 in file SPI_config.s
   Uses
      At line 33 in file SPI_config.s
Comment: SPI_CONFIG used once
SPI_INIT 0000004A

Symbol: SPI_INIT
   Definitions
      At line 81 in file SPI_config.s
   Uses
      None
Comment: SPI_INIT unused
routines 00000000

Symbol: routines
   Definitions
      At line 30 in file SPI_config.s
   Uses
      None
Comment: routines unused
4 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

GPIO_PORTA_AFSEL 40004420

Symbol: GPIO_PORTA_AFSEL
   Definitions
      At line 8 in file SPI_config.s
   Uses
      At line 69 in file SPI_config.s
Comment: GPIO_PORTA_AFSEL used once
GPIO_PORTA_AMSEL 40004528

Symbol: GPIO_PORTA_AMSEL
   Definitions
      At line 11 in file SPI_config.s
   Uses
      At line 64 in file SPI_config.s
Comment: GPIO_PORTA_AMSEL used once
GPIO_PORTA_DEN 4000451C

Symbol: GPIO_PORTA_DEN
   Definitions
      At line 10 in file SPI_config.s
   Uses
      At line 59 in file SPI_config.s
Comment: GPIO_PORTA_DEN used once
GPIO_PORTA_DIR 40004400

Symbol: GPIO_PORTA_DIR
   Definitions
      At line 7 in file SPI_config.s
   Uses
      At line 53 in file SPI_config.s
Comment: GPIO_PORTA_DIR used once
GPIO_PORTA_PCTL 4000452C

Symbol: GPIO_PORTA_PCTL
   Definitions
      At line 9 in file SPI_config.s
   Uses
      At line 74 in file SPI_config.s
Comment: GPIO_PORTA_PCTL used once
SSI0_CC 40008FC8

Symbol: SSI0_CC
   Definitions
      At line 17 in file SPI_config.s
   Uses
      At line 96 in file SPI_config.s
Comment: SSI0_CC used once
SSI0_CPSR 40008010

Symbol: SSI0_CPSR
   Definitions
      At line 16 in file SPI_config.s
   Uses
      At line 101 in file SPI_config.s
Comment: SSI0_CPSR used once
SSI0_CR0 40008000

Symbol: SSI0_CR0



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

   Definitions
      At line 14 in file SPI_config.s
   Uses
      At line 106 in file SPI_config.s
Comment: SSI0_CR0 used once
SSI0_CR1 40008004

Symbol: SSI0_CR1
   Definitions
      At line 15 in file SPI_config.s
   Uses
      At line 91 in file SPI_config.s
      At line 112 in file SPI_config.s

SYSCTL_RCGCGPIO 400FE608

Symbol: SYSCTL_RCGCGPIO
   Definitions
      At line 6 in file SPI_config.s
   Uses
      At line 44 in file SPI_config.s
Comment: SYSCTL_RCGCGPIO used once
SYSCTL_RCGCSSI 400FE61C

Symbol: SYSCTL_RCGCSSI
   Definitions
      At line 13 in file SPI_config.s
   Uses
      At line 81 in file SPI_config.s
Comment: SYSCTL_RCGCSSI used once
11 symbols
352 symbols in table
