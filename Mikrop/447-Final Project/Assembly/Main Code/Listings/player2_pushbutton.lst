


ARM Macro Assembler    Page 1 


    1 00000000         ;*******************************************************
                       ******** 
    2 00000000         ; EQU Directives
    3 00000000         ; These directives do not allocate memory
    4 00000000         ;*******************************************************
                       ********
    5 00000000         ;SYMBOL    DIRECTIVE VALUE   COMMENT
    6 00000000         
    7 00000000         
    8 00000000 20001100 
                       SHIP1   EQU              0x20001100
    9 00000000 20001110 
                       SHIP2   EQU              0x20001110
   10 00000000 20001120 
                       SHIP3   EQU              0x20001120
   11 00000000 20001130 
                       SHIP4   EQU              0x20001130
   12 00000000         
   13 00000000 20001150 
                       CURSOR1 EQU              0x20001150
   14 00000000 20001160 
                       CURSOR2 EQU              0x20001160
   15 00000000 20001170 
                       CURSOR3 EQU              0x20001170
   16 00000000 20001180 
                       CURSOR4 EQU              0x20001180
   17 00000000 E000E010 
                       NVIC_ST_CTRL
                               EQU              0xE000E010
   18 00000000         
   19 00000000         
   20 00000000         ;*******************************************************
                       ********
   21 00000000         ; Directives - This Data Section is part of the code
   22 00000000         ; It is in the read only section  so values cannot be ch
                       anged.
   23 00000000         ;*******************************************************
                       ******** 
   24 00000000         
   25 00000000         ;*******************************************************
                       ********
   26 00000000         ; Program section           
   27 00000000         ;*******************************************************
                       ********
   28 00000000         ;LABEL  DIRECTIVE VALUE     COMMENT
   29 00000000                 AREA             routines,READONLY,CODE
   30 00000000                 THUMB
   31 00000000                 ALIGN
   32 00000000                 EXTERN           PortF_Input
   33 00000000         
   34 00000000         
   35 00000000         
   36 00000000         ;------------delay------------
   37 00000000         ; Delay function for testing, which delays about 3*count
                        cycles.
   38 00000000         ; Input: R0  count
   39 00000000         ; Output: none
   40 00000000 00516155 
                       ONESEC  EQU              5333333     ; approximately 1s 



ARM Macro Assembler    Page 2 


                                                            delay at ~16 MHz cl
                                                            ock
   41 00000000 00145855 
                       QUARTERSEC
                               EQU              1333333     ; approximately 0.2
                                                            5s delay at ~16 MHz
                                                             clock
   42 00000000 001046AA 
                       FIFTHSEC
                               EQU              1066666     ; approximately 0.2
                                                            s delay at ~16 MHz 
                                                            clock
   43 00000000 00082355 
                       TENTHSEC
                               EQU              533333
   44 00000000                 EXPORT           delay2
   45 00000000         delay2  PROC
   46 00000000         ;PUSH {LR}
   47 00000000 1E40            SUBS             R0, R0, #1  ; R0 = R0 - 1 (coun
                                                            t = count - 1)
   48 00000002 D1FE            BNE              delay2      ; if count (R0) != 
                                                            0, skip to 'delay'
   49 00000004         ; POP{LR}
   50 00000004 4770            BX               LR          ; return
   51 00000006                 ENDP
   52 00000006         
   53 00000006         
   54 00000006         ;*******************************************************
                       ********
   55 00000006         ; THIS IS THE LOOP TO CHECK WHETHER THE PUSH BUTTON IS P
                       RESSED OR NOT
   56 00000006         ;  POLLING OPERATION
   57 00000006         ;   BRANCHS TO VISUALIZING SHIP SUBROUTINE
   58 00000006         ; BRANCHS TO ADC MODULES TO GET THE LOCATION
   59 00000006         ;*******************************************************
                       ******** 
   60 00000006                 EXTERN           ADC_READ_SHIP ;INCLUDE ADC READ
                                                            ING MODULES
   61 00000006                 EXTERN           ADC_READ_CURSOR
   62 00000006                 EXTERN           MINE_CURSOR
   63 00000006                 EXTERN           ADDRESS_CHANGE
   64 00000006                 EXTERN           WINORLOSE
   65 00000006                 EXPORT           PLAYER2_PUSHBUTTON
   66 00000006         ;*******************************************************
                       ********
   67 00000006         ;LABEL  DIRECTIVE VALUE     COMMENT
   68 00000006         
   69 00000006         PLAYER2_PUSHBUTTON
                               PROC
   70 00000006 B500            PUSH             {LR}
   71 00000008         loop
   72 00000008 4812            LDR              R0, =FIFTHSEC ; R0 = FIFTHSEC (
                                                            delay 0.2 second) 0
                                                            .1 DELAY
   73 0000000A F7FF FFFE       BL               delay2      ; delay at least (3
                                                            *R0) cycles
   74 0000000E F7FF FFFE       BL               ADC_READ_CURSOR ; READ SHIP LOC
                                                            ATION 
   75 00000012 F7FF FFFE       BL               PortF_Input ; read all of the s



ARM Macro Assembler    Page 3 


                                                            witches on Port F
   76 00000016 EA4F 6000       LSL              R0,R0, #24  ; SHIFT 24 TIMES
   77 0000001A 4404            ADD              R4, R4, R0  ; R4 KEEPS STATUS O
                                                            F PUSHBUTTONS AND X
                                                            Y DATA  
   78 0000001C EA4F 6010       LSR              R0, #24     ; SHIFT RIGHT AGAIN
                                                            
   79 00000020         
   80 00000020         ;;; CHECK STATUS FOR MAPPING CONDITION
   81 00000020         ;;;; CHECK IF THE SHIP HAS A COLLISION WITH PREVIOUSLY D
                       EPLOYED SHIP
   82 00000020         
   83 00000020 2811            CMP              R0, #0x11
   84 00000022 D00D            BEQ              CONT        ;NO DEPLOYMENT 
   85 00000024 2800            CMP              R0, #0x00   ;
   86 00000026 D00B            BEQ              CONT        ; NO DEPLOYMENT
   87 00000028 480B            LDR              R0, =CURSOR1
   88 0000002A 6801    nextlocation
                               LDR              R1, [R0]    ; R0 KEEPS THE SHIP
                                                             1 VALUE ADDRESS
   89 0000002C         ; R1 KEEPS THE SHIP1 LOCATIONDATA
   90 0000002C 2900            CMP              R1, #0      ; IF EMPTY BLOCK 
   91 0000002E D006            BEQ              MAPPING
   92 00000030 F000 05F0       AND              R5,R0, #0xF0 ;   AND IT R5 SHOW
                                                            S THE 2ND DIGIT 
   93 00000034 2D80            CMP              R5, #0x80   ; 
   94 00000036 D006            BEQ              FINISH      ; end this push but
                                                            ton loop  4MINES DE
                                                            PLOYED    
   95 00000038 F100 0010       ADD              R0, #0x10
   96 0000003C E7F5            B                nextlocation
   97 0000003E 6004    MAPPING STR              R4, [R0]
   98 00000040 F7FF FFFE 
                       CONT    BL               MINE_CURSOR
   99 00000044 E7E0            B                loop
  100 00000046 F1B9 0F00 
                       FINISH  CMP              R9, #0
  101 0000004A D1FC            BNE              FINISH
  102 0000004C         
  103 0000004C         ; BL    WINORLOSE
  104 0000004C         
  105 0000004C         
  106 0000004C F85D EB04       POP{LR}
  107 00000050 4770            BX               LR
  108 00000052                 ENDP
  109 00000052         
  110 00000052         
  111 00000052         
  112 00000052 00 00           ALIGN                        ; 
  113 00000054                 END                          ; end of file
              001046AA 
              20001150 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\player2_pushbutton.d -o.\objects\player2_pushbutton.o
 -I.\RTE\_Target_1 -ID:\Work\ARM\PACK\Keil\TM4C_DFP\1.1.0\Device\Include\TM4C12
3 -ID:\Work\ARM\CMSIS\Include --predefine="__EVAL SETA 1" --predefine="__UVISIO
N_VERSION SETA 526" --predefine="TM4C123GH6PM SETA 1" --list=.\listings\player2
_pushbutton.lst PLAYER2_PUSHBUTTON.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

CONT 00000040

Symbol: CONT
   Definitions
      At line 98 in file PLAYER2_PUSHBUTTON.s
   Uses
      At line 84 in file PLAYER2_PUSHBUTTON.s
      At line 86 in file PLAYER2_PUSHBUTTON.s

FINISH 00000046

Symbol: FINISH
   Definitions
      At line 100 in file PLAYER2_PUSHBUTTON.s
   Uses
      At line 94 in file PLAYER2_PUSHBUTTON.s
      At line 101 in file PLAYER2_PUSHBUTTON.s

MAPPING 0000003E

Symbol: MAPPING
   Definitions
      At line 97 in file PLAYER2_PUSHBUTTON.s
   Uses
      At line 91 in file PLAYER2_PUSHBUTTON.s
Comment: MAPPING used once
PLAYER2_PUSHBUTTON 00000006

Symbol: PLAYER2_PUSHBUTTON
   Definitions
      At line 69 in file PLAYER2_PUSHBUTTON.s
   Uses
      At line 65 in file PLAYER2_PUSHBUTTON.s
Comment: PLAYER2_PUSHBUTTON used once
delay2 00000000

Symbol: delay2
   Definitions
      At line 45 in file PLAYER2_PUSHBUTTON.s
   Uses
      At line 44 in file PLAYER2_PUSHBUTTON.s
      At line 48 in file PLAYER2_PUSHBUTTON.s
      At line 73 in file PLAYER2_PUSHBUTTON.s

loop 00000008

Symbol: loop
   Definitions
      At line 71 in file PLAYER2_PUSHBUTTON.s
   Uses
      At line 99 in file PLAYER2_PUSHBUTTON.s
Comment: loop used once
nextlocation 0000002A

Symbol: nextlocation
   Definitions
      At line 88 in file PLAYER2_PUSHBUTTON.s
   Uses
      At line 96 in file PLAYER2_PUSHBUTTON.s



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

Comment: nextlocation used once
routines 00000000

Symbol: routines
   Definitions
      At line 29 in file PLAYER2_PUSHBUTTON.s
   Uses
      None
Comment: routines unused
8 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

CURSOR1 20001150

Symbol: CURSOR1
   Definitions
      At line 13 in file PLAYER2_PUSHBUTTON.s
   Uses
      At line 87 in file PLAYER2_PUSHBUTTON.s
Comment: CURSOR1 used once
CURSOR2 20001160

Symbol: CURSOR2
   Definitions
      At line 14 in file PLAYER2_PUSHBUTTON.s
   Uses
      None
Comment: CURSOR2 unused
CURSOR3 20001170

Symbol: CURSOR3
   Definitions
      At line 15 in file PLAYER2_PUSHBUTTON.s
   Uses
      None
Comment: CURSOR3 unused
CURSOR4 20001180

Symbol: CURSOR4
   Definitions
      At line 16 in file PLAYER2_PUSHBUTTON.s
   Uses
      None
Comment: CURSOR4 unused
FIFTHSEC 001046AA

Symbol: FIFTHSEC
   Definitions
      At line 42 in file PLAYER2_PUSHBUTTON.s
   Uses
      At line 72 in file PLAYER2_PUSHBUTTON.s
Comment: FIFTHSEC used once
NVIC_ST_CTRL E000E010

Symbol: NVIC_ST_CTRL
   Definitions
      At line 17 in file PLAYER2_PUSHBUTTON.s
   Uses
      None
Comment: NVIC_ST_CTRL unused
ONESEC 00516155

Symbol: ONESEC
   Definitions
      At line 40 in file PLAYER2_PUSHBUTTON.s
   Uses
      None
Comment: ONESEC unused
QUARTERSEC 00145855

Symbol: QUARTERSEC



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

   Definitions
      At line 41 in file PLAYER2_PUSHBUTTON.s
   Uses
      None
Comment: QUARTERSEC unused
SHIP1 20001100

Symbol: SHIP1
   Definitions
      At line 8 in file PLAYER2_PUSHBUTTON.s
   Uses
      None
Comment: SHIP1 unused
SHIP2 20001110

Symbol: SHIP2
   Definitions
      At line 9 in file PLAYER2_PUSHBUTTON.s
   Uses
      None
Comment: SHIP2 unused
SHIP3 20001120

Symbol: SHIP3
   Definitions
      At line 10 in file PLAYER2_PUSHBUTTON.s
   Uses
      None
Comment: SHIP3 unused
SHIP4 20001130

Symbol: SHIP4
   Definitions
      At line 11 in file PLAYER2_PUSHBUTTON.s
   Uses
      None
Comment: SHIP4 unused
TENTHSEC 00082355

Symbol: TENTHSEC
   Definitions
      At line 43 in file PLAYER2_PUSHBUTTON.s
   Uses
      None
Comment: TENTHSEC unused
13 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

ADC_READ_CURSOR 00000000

Symbol: ADC_READ_CURSOR
   Definitions
      At line 61 in file PLAYER2_PUSHBUTTON.s
   Uses
      At line 74 in file PLAYER2_PUSHBUTTON.s
Comment: ADC_READ_CURSOR used once
ADC_READ_SHIP 00000000

Symbol: ADC_READ_SHIP
   Definitions
      At line 60 in file PLAYER2_PUSHBUTTON.s
   Uses
      None
Comment: ADC_READ_SHIP unused
ADDRESS_CHANGE 00000000

Symbol: ADDRESS_CHANGE
   Definitions
      At line 63 in file PLAYER2_PUSHBUTTON.s
   Uses
      None
Comment: ADDRESS_CHANGE unused
MINE_CURSOR 00000000

Symbol: MINE_CURSOR
   Definitions
      At line 62 in file PLAYER2_PUSHBUTTON.s
   Uses
      At line 98 in file PLAYER2_PUSHBUTTON.s
Comment: MINE_CURSOR used once
PortF_Input 00000000

Symbol: PortF_Input
   Definitions
      At line 32 in file PLAYER2_PUSHBUTTON.s
   Uses
      At line 75 in file PLAYER2_PUSHBUTTON.s
Comment: PortF_Input used once
WINORLOSE 00000000

Symbol: WINORLOSE
   Definitions
      At line 64 in file PLAYER2_PUSHBUTTON.s
   Uses
      None
Comment: WINORLOSE unused
6 symbols
363 symbols in table
