


ARM Macro Assembler    Page 1 


    1 00000000         ;*******************************************************
                       ******** 
    2 00000000         ; EQU Directives
    3 00000000         ; These directives do not allocate memory
    4 00000000         ;*******************************************************
                       ********
    5 00000000         ;SYMBOL    DIRECTIVE VALUE   COMMENT
    6 00000000 400253FC 
                       GPIO_PORTF_DATA_R
                               EQU              0x400253FC
    7 00000000 40025400 
                       GPIO_PORTF_DIR_R
                               EQU              0x40025400
    8 00000000 40025420 
                       GPIO_PORTF_AFSEL_R
                               EQU              0x40025420
    9 00000000 40025510 
                       GPIO_PORTF_PUR_R
                               EQU              0x40025510
   10 00000000 4002551C 
                       GPIO_PORTF_DEN_R
                               EQU              0x4002551C
   11 00000000 40025520 
                       GPIO_PORTF_LOCK_R
                               EQU              0x40025520
   12 00000000 40025524 
                       GPIO_PORTF_CR_R
                               EQU              0x40025524
   13 00000000 40025528 
                       GPIO_PORTF_AMSEL_R
                               EQU              0x40025528
   14 00000000 4002552C 
                       GPIO_PORTF_PCTL_R
                               EQU              0x4002552C
   15 00000000 4C4F434B 
                       GPIO_LOCK_KEY
                               EQU              0x4C4F434B  ; Unlocks the GPIO_
                                                            CR register
   16 00000000 00000002 
                       RED     EQU              0x02
   17 00000000 00000004 
                       BLUE    EQU              0x04
   18 00000000 00000008 
                       GREEN   EQU              0x08
   19 00000000 00000010 
                       SW1     EQU              0x10        ; on the left side 
                                                            of the Launchpad bo
                                                            ard
   20 00000000 00000001 
                       SW2     EQU              0x01        ; on the right side
                                                             of the Launchpad b
                                                            oard
   21 00000000 400FE608 
                       SYSCTL_RCGCGPIO_R
                               EQU              0x400FE608
   22 00000000         
   23 00000000 20001100 
                       SHIP1   EQU              0x20001100
   24 00000000 20001110 



ARM Macro Assembler    Page 2 


                       SHIP2   EQU              0x20001110
   25 00000000 20001120 
                       SHIP3   EQU              0x20001120
   26 00000000 20001130 
                       SHIP4   EQU              0x20001130
   27 00000000         
   28 00000000 20001150 
                       CURSOR1 EQU              0x20001150
   29 00000000 20001160 
                       CURSOR2 EQU              0x20001160
   30 00000000 20001170 
                       CURSOR3 EQU              0x20001170
   31 00000000 20001180 
                       CURSOR4 EQU              0x20001180
   32 00000000         
   33 00000000 20000400 
                       EMPTY_FIELD
                               EQU              0x20000400  ;400-5F7
   34 00000000 20000600 
                       PLAYFIELD
                               EQU              0x20000600  ;600-7F7
   35 00000000         
   36 00000000         
   37 00000000         ;*******************************************************
                       ********
   38 00000000         ; Directives - This Data Section is part of the code
   39 00000000         ; It is in the read only section  so values cannot be ch
                       anged.
   40 00000000         ;*******************************************************
                       ******** 
   41 00000000         ;LABEL  DIRECTIVE VALUE     COMMENT
   42 00000000                 AREA             sdata, DATA, READONLY
   43 00000000                 THUMB
   44 00000000         
   45 00000000         ;*******************************************************
                       ********
   46 00000000         ; Program section           
   47 00000000         ;*******************************************************
                       ********
   48 00000000         ;LABEL  DIRECTIVE VALUE     COMMENT
   49 00000000                 AREA             routines,READONLY,CODE
   50 00000000                 THUMB
   51 00000000                 ALIGN
   52 00000000                 EXTERN           WINNER
   53 00000000                 EXTERN           LOSER
   54 00000000                 EXTERN           SHIP_CURSOR
   55 00000000         ;*******************************************************
                       ********
   56 00000000         ; PORTF INITIALIZATION
   57 00000000         ; INITIALIZE PF0 AND PF4 FOR PUSH BUTTONS ON THE BOARD
   58 00000000         ;*******************************************************
                       ******** 
   59 00000000         ;LABEL  DIRECTIVE VALUE      COMMENT
   60 00000000                 EXPORT           PORTF_INIT
   61 00000000         
   62 00000000         PORTF_INIT
                               PROC
   63 00000000         
   64 00000000 B500            PUSH             {LR}



ARM Macro Assembler    Page 3 


   65 00000002 491A            LDR              R1, =SYSCTL_RCGCGPIO_R ; 1) act
                                                            ivate clock for Por
                                                            t F
   66 00000004 6808            LDR              R0, [R1]
   67 00000006 F040 0020       ORR              R0, R0, #0x20 ; set bit 5 to tu
                                                            rn on clock
   68 0000000A 6008            STR              R0, [R1]
   69 0000000C BF00            NOP
   70 0000000E BF00            NOP                          ; allow time for cl
                                                            ock to finish
   71 00000010         
   72 00000010 4917            LDR              R1, =GPIO_PORTF_LOCK_R ; 2) unl
                                                            ock the lock regist
                                                            er
   73 00000012 4818            LDR              R0, =0x4C4F434B ; unlock GPIO P
                                                            ort F Commit Regist
                                                            er
   74 00000014 6008            STR              R0, [R1]
   75 00000016         
   76 00000016 4918            LDR              R1, =GPIO_PORTF_CR_R ; enable c
                                                            ommit for Port F
   77 00000018 F04F 00FF       MOV              R0, #0xFF   ; 1 means allow acc
                                                            ess
   78 0000001C 6008            STR              R0, [R1]
   79 0000001E         
   80 0000001E 4917            LDR              R1, =GPIO_PORTF_AMSEL_R ; 3) di
                                                            sable analog functi
                                                            onality
   81 00000020 F04F 0000       MOV              R0, #0      ; 0 means analog is
                                                             off
   82 00000024 6008            STR              R0, [R1]
   83 00000026         
   84 00000026 4916            LDR              R1, =GPIO_PORTF_PCTL_R ; 4) con
                                                            figure as GPIO
   85 00000028 F04F 0000       MOV              R0, #0x00000000 ; 0 means confi
                                                            gure Port F as GPIO
                                                            
   86 0000002C 6008            STR              R0, [R1]
   87 0000002E         
   88 0000002E 4915            LDR              R1, =GPIO_PORTF_DIR_R ; 5) set 
                                                            direction register
   89 00000030 F04F 000E       MOV              R0,#0x0E    ; PF0 and PF7-4 inp
                                                            ut, PF3-1 output
   90 00000034 6008            STR              R0, [R1]
   91 00000036         
   92 00000036 4914            LDR              R1, =GPIO_PORTF_AFSEL_R ; 6) re
                                                            gular port function
                                                            
   93 00000038 F04F 0000       MOV              R0, #0      ; 0 means disable a
                                                            lternate function 
   94 0000003C 6008            STR              R0, [R1]
   95 0000003E         
   96 0000003E 4913            LDR              R1, =GPIO_PORTF_PUR_R ; pull-up
                                                             resistors for PF4,
                                                            PF0
   97 00000040 F04F 0011       MOV              R0, #0x11   ; enable weak pull-
                                                            up on PF0 and PF4
   98 00000044 6008            STR              R0, [R1]
   99 00000046         



ARM Macro Assembler    Page 4 


  100 00000046 4912            LDR              R1, =GPIO_PORTF_DEN_R ; 7) enab
                                                            le Port F digital p
                                                            ort
  101 00000048 F04F 00FF       MOV              R0, #0xFF   ; 1 means enable di
                                                            gital I/O
  102 0000004C 6008            STR              R0, [R1]
  103 0000004E F85D EB04       POP              {LR}
  104 00000052 4770            BX               LR
  105 00000054                 ENDP
  106 00000054         
  107 00000054         ;*******************************************************
                       ********
  108 00000054         ; Adjustable Delay
  109 00000054         ; Delay function for testing, which delays about 3*count
                        cycles.
  110 00000054         ; Input: R0  count
  111 00000054         ; Output: none
  112 00000054         ;*******************************************************
                       ********
  113 00000054         ;SYMBOL    DIRECTIVE VALUE   COMMENT
  114 00000054 00516155 
                       ONESEC  EQU              5333333     ; approximately 1s 
                                                            delay at ~16 MHz cl
                                                            ock
  115 00000054 0028B0AA 
                       HALFSEC EQU              2666666
  116 00000054 00145855 
                       QUARTERSEC
                               EQU              1333333     ; approximately 0.2
                                                            5s delay at ~16 MHz
                                                             clock
  117 00000054 001046AA 
                       FIFTHSEC
                               EQU              1066666     ; approximately 0.2
                                                            s delay at ~16 MHz 
                                                            clock
  118 00000054 00082355 
                       TENTHSEC
                               EQU              533333
  119 00000054         
  120 00000054         ;*******************************************************
                       ******** 
  121 00000054         ;LABEL  DIRECTIVE VALUE    COMMENT 
  122 00000054                 EXPORT           delay
  123 00000054         
  124 00000054         delay   PROC
  125 00000054 1E40            SUBS             R0, R0, #1  ; R0 = R0 - 1 (coun
                                                            t = count - 1)
  126 00000056 D1FE            BNE              delay       ; if count (R0) != 
                                                            0, skip to 'delay'
  127 00000058 4770            BX               LR          ; return
  128 0000005A                 ENDP
  129 0000005A         
  130 0000005A         
  131 0000005A         ;*******************************************************
                       ********
  132 0000005A         ; PortF_Input
  133 0000005A         ; Read and return the status of the switches.
  134 0000005A         ; R0 keeps the data according to push buttons



ARM Macro Assembler    Page 5 


  135 0000005A         ;*******************************************************
                       ********
  136 0000005A         ;LABEL  DIRECTIVE VALUE      COMMENT
  137 0000005A                 EXPORT           PortF_Input
  138 0000005A         PortF_Input
                               PROC
  139 0000005A B500            PUSH             {LR}
  140 0000005C 490D            LDR              R1,=GPIO_PORTF_DATA_R ; pointer
                                                             to Port F data
  141 0000005E 6808            LDR              R0,[R1]     ; read all of Port 
                                                            F
  142 00000060 F000 0011       AND              R0,R0,#0x11 ; just the input pi
                                                            ns PF0 and PF4
  143 00000064 F85D EB04       POP              {LR}
  144 00000068 4770            BX               LR          ; return R0 with in
                                                            puts     
  145 0000006A                 ENDP                         ; GPIO PORTF DATA K
                                                            EEPS THE PUSH BUTTO
                                                            N OPTIONS
  146 0000006A         
  147 0000006A         
  148 0000006A 00 00           ALIGN                        ; 
  149 0000006C                 END                          ; end of file
              400FE608 
              40025520 
              4C4F434B 
              40025524 
              40025528 
              4002552C 
              40025400 
              40025420 
              40025510 
              4002551C 
              400253FC 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\pushbutton.d -o.\objects\pushbutton.o -I.\RTE\_Target
_1 -IC:\Keil_v5\ARM\PACK\Keil\TM4C_DFP\1.1.0\Device\Include\TM4C123 -IC:\Keil_v
5\ARM\CMSIS\Include --predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION 
SETA 526" --predefine="TM4C123GH6PM SETA 1" --list=.\listings\pushbutton.lst PU
SHBUTTON.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

sdata 00000000

Symbol: sdata
   Definitions
      At line 42 in file PUSHBUTTON.s
   Uses
      None
Comment: sdata unused
1 symbol



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

PORTF_INIT 00000000

Symbol: PORTF_INIT
   Definitions
      At line 62 in file PUSHBUTTON.s
   Uses
      At line 60 in file PUSHBUTTON.s
Comment: PORTF_INIT used once
PortF_Input 0000005A

Symbol: PortF_Input
   Definitions
      At line 138 in file PUSHBUTTON.s
   Uses
      At line 137 in file PUSHBUTTON.s
Comment: PortF_Input used once
delay 00000054

Symbol: delay
   Definitions
      At line 124 in file PUSHBUTTON.s
   Uses
      At line 122 in file PUSHBUTTON.s
      At line 126 in file PUSHBUTTON.s

routines 00000000

Symbol: routines
   Definitions
      At line 49 in file PUSHBUTTON.s
   Uses
      None
Comment: routines unused
4 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

BLUE 00000004

Symbol: BLUE
   Definitions
      At line 17 in file PUSHBUTTON.s
   Uses
      None
Comment: BLUE unused
CURSOR1 20001150

Symbol: CURSOR1
   Definitions
      At line 28 in file PUSHBUTTON.s
   Uses
      None
Comment: CURSOR1 unused
CURSOR2 20001160

Symbol: CURSOR2
   Definitions
      At line 29 in file PUSHBUTTON.s
   Uses
      None
Comment: CURSOR2 unused
CURSOR3 20001170

Symbol: CURSOR3
   Definitions
      At line 30 in file PUSHBUTTON.s
   Uses
      None
Comment: CURSOR3 unused
CURSOR4 20001180

Symbol: CURSOR4
   Definitions
      At line 31 in file PUSHBUTTON.s
   Uses
      None
Comment: CURSOR4 unused
EMPTY_FIELD 20000400

Symbol: EMPTY_FIELD
   Definitions
      At line 33 in file PUSHBUTTON.s
   Uses
      None
Comment: EMPTY_FIELD unused
FIFTHSEC 001046AA

Symbol: FIFTHSEC
   Definitions
      At line 117 in file PUSHBUTTON.s
   Uses
      None
Comment: FIFTHSEC unused
GPIO_LOCK_KEY 4C4F434B

Symbol: GPIO_LOCK_KEY



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

   Definitions
      At line 15 in file PUSHBUTTON.s
   Uses
      None
Comment: GPIO_LOCK_KEY unused
GPIO_PORTF_AFSEL_R 40025420

Symbol: GPIO_PORTF_AFSEL_R
   Definitions
      At line 8 in file PUSHBUTTON.s
   Uses
      At line 92 in file PUSHBUTTON.s
Comment: GPIO_PORTF_AFSEL_R used once
GPIO_PORTF_AMSEL_R 40025528

Symbol: GPIO_PORTF_AMSEL_R
   Definitions
      At line 13 in file PUSHBUTTON.s
   Uses
      At line 80 in file PUSHBUTTON.s
Comment: GPIO_PORTF_AMSEL_R used once
GPIO_PORTF_CR_R 40025524

Symbol: GPIO_PORTF_CR_R
   Definitions
      At line 12 in file PUSHBUTTON.s
   Uses
      At line 76 in file PUSHBUTTON.s
Comment: GPIO_PORTF_CR_R used once
GPIO_PORTF_DATA_R 400253FC

Symbol: GPIO_PORTF_DATA_R
   Definitions
      At line 6 in file PUSHBUTTON.s
   Uses
      At line 140 in file PUSHBUTTON.s
Comment: GPIO_PORTF_DATA_R used once
GPIO_PORTF_DEN_R 4002551C

Symbol: GPIO_PORTF_DEN_R
   Definitions
      At line 10 in file PUSHBUTTON.s
   Uses
      At line 100 in file PUSHBUTTON.s
Comment: GPIO_PORTF_DEN_R used once
GPIO_PORTF_DIR_R 40025400

Symbol: GPIO_PORTF_DIR_R
   Definitions
      At line 7 in file PUSHBUTTON.s
   Uses
      At line 88 in file PUSHBUTTON.s
Comment: GPIO_PORTF_DIR_R used once
GPIO_PORTF_LOCK_R 40025520

Symbol: GPIO_PORTF_LOCK_R
   Definitions
      At line 11 in file PUSHBUTTON.s
   Uses



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Absolute symbols

      At line 72 in file PUSHBUTTON.s
Comment: GPIO_PORTF_LOCK_R used once
GPIO_PORTF_PCTL_R 4002552C

Symbol: GPIO_PORTF_PCTL_R
   Definitions
      At line 14 in file PUSHBUTTON.s
   Uses
      At line 84 in file PUSHBUTTON.s
Comment: GPIO_PORTF_PCTL_R used once
GPIO_PORTF_PUR_R 40025510

Symbol: GPIO_PORTF_PUR_R
   Definitions
      At line 9 in file PUSHBUTTON.s
   Uses
      At line 96 in file PUSHBUTTON.s
Comment: GPIO_PORTF_PUR_R used once
GREEN 00000008

Symbol: GREEN
   Definitions
      At line 18 in file PUSHBUTTON.s
   Uses
      None
Comment: GREEN unused
HALFSEC 0028B0AA

Symbol: HALFSEC
   Definitions
      At line 115 in file PUSHBUTTON.s
   Uses
      None
Comment: HALFSEC unused
ONESEC 00516155

Symbol: ONESEC
   Definitions
      At line 114 in file PUSHBUTTON.s
   Uses
      None
Comment: ONESEC unused
PLAYFIELD 20000600

Symbol: PLAYFIELD
   Definitions
      At line 34 in file PUSHBUTTON.s
   Uses
      None
Comment: PLAYFIELD unused
QUARTERSEC 00145855

Symbol: QUARTERSEC
   Definitions
      At line 116 in file PUSHBUTTON.s
   Uses
      None
Comment: QUARTERSEC unused
RED 00000002



ARM Macro Assembler    Page 4 Alphabetic symbol ordering
Absolute symbols


Symbol: RED
   Definitions
      At line 16 in file PUSHBUTTON.s
   Uses
      None
Comment: RED unused
SHIP1 20001100

Symbol: SHIP1
   Definitions
      At line 23 in file PUSHBUTTON.s
   Uses
      None
Comment: SHIP1 unused
SHIP2 20001110

Symbol: SHIP2
   Definitions
      At line 24 in file PUSHBUTTON.s
   Uses
      None
Comment: SHIP2 unused
SHIP3 20001120

Symbol: SHIP3
   Definitions
      At line 25 in file PUSHBUTTON.s
   Uses
      None
Comment: SHIP3 unused
SHIP4 20001130

Symbol: SHIP4
   Definitions
      At line 26 in file PUSHBUTTON.s
   Uses
      None
Comment: SHIP4 unused
SW1 00000010

Symbol: SW1
   Definitions
      At line 19 in file PUSHBUTTON.s
   Uses
      None
Comment: SW1 unused
SW2 00000001

Symbol: SW2
   Definitions
      At line 20 in file PUSHBUTTON.s
   Uses
      None
Comment: SW2 unused
SYSCTL_RCGCGPIO_R 400FE608

Symbol: SYSCTL_RCGCGPIO_R
   Definitions



ARM Macro Assembler    Page 5 Alphabetic symbol ordering
Absolute symbols

      At line 21 in file PUSHBUTTON.s
   Uses
      At line 65 in file PUSHBUTTON.s
Comment: SYSCTL_RCGCGPIO_R used once
TENTHSEC 00082355

Symbol: TENTHSEC
   Definitions
      At line 118 in file PUSHBUTTON.s
   Uses
      None
Comment: TENTHSEC unused
31 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

LOSER 00000000

Symbol: LOSER
   Definitions
      At line 53 in file PUSHBUTTON.s
   Uses
      None
Comment: LOSER unused
SHIP_CURSOR 00000000

Symbol: SHIP_CURSOR
   Definitions
      At line 54 in file PUSHBUTTON.s
   Uses
      None
Comment: SHIP_CURSOR unused
WINNER 00000000

Symbol: WINNER
   Definitions
      At line 52 in file PUSHBUTTON.s
   Uses
      None
Comment: WINNER unused
3 symbols
375 symbols in table
