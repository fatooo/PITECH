


ARM Macro Assembler    Page 1 


    1 00000000         ;*******************************************************
                       ******** 
    2 00000000         ; EQU Directives
    3 00000000         ; These directives do not allocate memory
    4 00000000         ; SHOWS THE MEMORY LOCATION TO POSTION AND TYPES OF SHIP
                       S AND CURSORS
    5 00000000         ;*******************************************************
                       ********
    6 00000000         ;SYMBOL    DIRECTIVE VALUE   COMMENT
    7 00000000         ; ADC Registers
    8 00000000         
    9 00000000 20001100 
                       SHIP1   EQU              0x20001100
   10 00000000 20001110 
                       SHIP2   EQU              0x20001110
   11 00000000 20001120 
                       SHIP3   EQU              0x20001120
   12 00000000 20001130 
                       SHIP4   EQU              0x20001130
   13 00000000         
   14 00000000 20001150 
                       CURSOR1 EQU              0x20001150
   15 00000000 20001160 
                       CURSOR2 EQU              0x20001160
   16 00000000 20001170 
                       CURSOR3 EQU              0x20001170
   17 00000000 20001180 
                       CURSOR4 EQU              0x20001180
   18 00000000         
   19 00000000         ;*******************************************************
                       ********
   20 00000000         
   21 00000000         ;*******************************************************
                       ******** 
   22 00000000         ;*******************************************************
                       ********
   23 00000000         ; Program section           
   24 00000000         ;*******************************************************
                       ********
   25 00000000         ;LABEL  DIRECTIVE VALUE     COMMENT
   26 00000000                 AREA             routines, READONLY, CODE
   27 00000000                 THUMB
   28 00000000                 EXPORT           WINORLOSE
   29 00000000                 EXTERN           WINNER
   30 00000000                 EXTERN           LOSER
   31 00000000         
   32 00000000         ;*******************************************************
                       ********
   33 00000000         ; WINORLOSE ROUTINE GIVES WINNER OR LOSER AS OUTPUT
   34 00000000         ;  WINNING CONDITIONS ARE CHECKED 
   35 00000000         ;*******************************************************
                       ******** 
   36 00000000         WINORLOSE
                               PROC
   37 00000000         
   38 00000000 B500            PUSH             {LR}
   39 00000002 B47F            PUSH{R0-R6}
   40 00000004         
   41 00000004 4825            LDR              R0, = SHIP1 ; R0 KEEPS THE LOCA



ARM Macro Assembler    Page 2 


                                                            TION IN THE MEMORY 
                                                             OF SHIPS
   42 00000006         ; DONT CHANGE MEMORY FROM NOW ON
   43 00000006 6801    nextship
                               LDR              R1, [R0]    ; LOAD SHIP1 VALUE 
                                                            
   44 00000008 EA4F 6211       LSR              R2, R1, #24 ; R2 KEEPS THE STAT
                                                            US
   45 0000000C         ;STATUS REGISTERS ARE 01 OR 10  SHOWS CIVILIAN OR BATTLE
                       SHIPS
   46 0000000C 4B24            LDR              R3,= CURSOR1 ; R3 KEEPS CURSOR 
                                                            LOCATION FOR FIRST 
                                                            CURSOR
   47 0000000E 2A02            CMP              R2, #2      ; CHECK IF IT IS BA
                                                            TTLESHIP 
   48 00000010 D001            BEQ              BATTLESHIP
   49 00000012 2A01            CMP              R2, #1
   50 00000014 D018            BEQ              CIVILIAN
   51 00000016         ********
   52 00000016         ; R0 KEEPS THE SHIP LOCATION IN THE MOMORY
   53 00000016         ; R3 KEEPS THE CURSOR LOCATION
   54 00000016         ;R1 KEEPS THE SHIP DATA 
   55 00000016         ; R4 KEEPS THE CURSOR DATA
   56 00000016         ******
   57 00000016         
   58 00000016 681C    BATTLESHIP
                               LDR              R4, [R3]
   59 00000018 F401 427F       AND              R2, R1, #0x0FF00 ; r2 now keeps
                                                             y data of the ship
                                                            
   60 0000001C F404 457F       AND              R5, R4, #0x0FF00 ; R5 KEEPS THE
                                                             Y DATA OF CURSOR
   61 00000020         
   62 00000020 1AAD            SUBS             R5, R2      ;  if the cursor da
                                                            ta on top of the ot
                                                            her data check new
   63 00000022 DB0A            BLT              checknewcursor ;
   64 00000024         
   65 00000024 2D08            CMP              R5, #8      ; COMPARE IF THE CU
                                                            RSOR IN THE SHIP AR
                                                            EA 
   66 00000026 DC08            BGT              checknewcursor
   67 00000028         
   68 00000028 F001 02FF       AND              R2, R1, #0x00FF ; r2 now keeps 
                                                            x data of the ship
   69 0000002C F004 05FF       AND              R5, R4, #0x00FF ; R5 KEEPS THE 
                                                            x DATA OF CURSOR
   70 00000030         
   71 00000030 1AAD            SUBS             R5, R2      ;  if the cursor da
                                                            ta on top of the ot
                                                            her data check new
   72 00000032 DB02            BLT              checknewcursor ;
   73 00000034         
   74 00000034 2D08            CMP              R5, #8      ; COMPARE IF THE CU
                                                            RSOR IN THE SHIP AR
                                                            EA 
   75 00000036 DC00            BGT              checknewcursor
   76 00000038         
   77 00000038 E01F            B                checknewship ; a cursor in this



ARM Macro Assembler    Page 3 


                                                             area has been foun
                                                            d check new ship
   78 0000003A         
   79 0000003A         ;;;; CHECK NEXT CURSOR UNTILL A MATCH FOUND ELSE B LOSE 
                       CONDITION     
   80 0000003A         
   81 0000003A F003 05F0 
                       checknewcursor
                               AND              R5,R3, #0xF0 ;   AND IT R5 SHOW
                                                            S THE 2ND DIGIT 
   82 0000003E 2D80            CMP              R5, #0x80   ; CURSOR SHOWS THE 
                                                            LAST CURSOR LOCATIO
                                                            N
   83 00000040 D022            BEQ              LOSE
   84 00000042 F103 0310       ADD              R3,R3, #0x10 ; INCREASE THE CUR
                                                            SOR LOCATION
   85 00000046 E7E6            B                BATTLESHIP
   86 00000048         
   87 00000048         
   88 00000048         
   89 00000048 681C    CIVILIAN
                               LDR              R4, [R3]
   90 0000004A F401 427F       AND              R2, R1, #0x0Ff00 ; r2 now keeps
                                                             y data of the ship
                                                            
   91 0000004E F404 457F       AND              R5, R4, #0x0Ff00 ; R5 KEEPS THE
                                                             Y DATA OF CURSOR
   92 00000052         
   93 00000052 1AAD            SUBS             R5, R2      ;  if the cursor da
                                                            ta on top of the ot
                                                            her data check new
   94 00000054 DB0A            BLT              checknewcursor_civil ;
   95 00000056         
   96 00000056 2D08            CMP              R5, #8      ; COMPARE IF THE CU
                                                            RSOR IN THE SHIP AR
                                                            EA 
   97 00000058 DC08            BGT              checknewcursor_civil
   98 0000005A         
   99 0000005A F001 02FF       AND              R2, R1, #0x00Ff ; r2 now keeps 
                                                            x data of the ship
  100 0000005E F004 05FF       AND              R5, R4, #0x00Ff ; R5 KEEPS THE 
                                                            x DATA OF CURSOR
  101 00000062         
  102 00000062 1AAD            SUBS             R5, R2      ;  if the cursor da
                                                            ta on top of the ot
                                                            her data check new
  103 00000064 DB02            BLT              checknewcursor_civil ;
  104 00000066         
  105 00000066 2D08            CMP              R5, #8      ; COMPARE IF THE CU
                                                            RSOR IN THE SHIP AR
                                                            EA 
  106 00000068 DC00            BGT              checknewcursor_civil
  107 0000006A         
  108 0000006A E00D            B                LOSE        ; if the cursor in 
                                                            the civil area bran
                                                            ch to lose
  109 0000006C         
  110 0000006C         
  111 0000006C         ;;;; CHECK NEXT CURSOR UNTILL A MATCH FOUND ELSE B LOSE 



ARM Macro Assembler    Page 4 


                       CONDITION     
  112 0000006C         
  113 0000006C         
  114 0000006C F003 05F0 
                       checknewcursor_civil
                               AND              R5,R3, #0xF0 ;   AND IT R5 SHOW
                                                            S THE 2ND DIGIT 
  115 00000070 2D80            CMP              R5, #0x80   ; CURSOR SHOWS THE 
                                                            LAST CURSOR LOCATIO
                                                            N
  116 00000072 D002            BEQ              checknewship
  117 00000074 F103 0310       ADD              R3,R3, #0x10 ; INCREASE THE CUR
                                                            SOR LOCATION
  118 00000078 E7E6            B                CIVILIAN
  119 0000007A         
  120 0000007A         
  121 0000007A         
  122 0000007A F000 05F0 
                       checknewship
                               AND              R5,R0, #0xF0 ;   AND IT R5 SHOW
                                                            S THE 2ND DIGIT 
  123 0000007E 2D30            CMP              R5, #0x30   ; SHIP SHOWS THE LA
                                                            ST SHIP LOCATION
  124 00000080 D005            BEQ              WIN
  125 00000082 F100 0010       ADD              R0,R0, #0x10 ; INCREASE THE CUR
                                                            SOR LOCATION
  126 00000086 E7BE            B                nextship
  127 00000088         
  128 00000088 F7FF FFFE 
                       LOSE    BL               LOSER
  129 0000008C E002            B                FINISH
  130 0000008E         
  131 0000008E         
  132 0000008E F7FF FFFE 
                       WIN     BL               WINNER
  133 00000092 E7FF            B                FINISH
  134 00000094         
  135 00000094         FINISH
  136 00000094 BC7F            POP{R0-R6}
  137 00000096 F85D EB04       POP{LR}
  138 0000009A 4770            BX               LR
  139 0000009C                 ENDP
  140 0000009C                 ALIGN
  141 0000009C                 END
              20001100 
              20001150 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\winorlose.d -o.\objects\winorlose.o -I.\RTE\_Target_1
 -IC:\Keil_v5\ARM\PACK\Keil\TM4C_DFP\1.1.0\Device\Include\TM4C123 -IC:\Keil_v5\
ARM\CMSIS\Include --predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION SE
TA 526" --predefine="TM4C123GH6PM SETA 1" --list=.\listings\winorlose.lst WINOR
LOSE.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

BATTLESHIP 00000016

Symbol: BATTLESHIP
   Definitions
      At line 58 in file WINORLOSE.s
   Uses
      At line 48 in file WINORLOSE.s
      At line 85 in file WINORLOSE.s

CIVILIAN 00000048

Symbol: CIVILIAN
   Definitions
      At line 89 in file WINORLOSE.s
   Uses
      At line 50 in file WINORLOSE.s
      At line 118 in file WINORLOSE.s

FINISH 00000094

Symbol: FINISH
   Definitions
      At line 135 in file WINORLOSE.s
   Uses
      At line 129 in file WINORLOSE.s
      At line 133 in file WINORLOSE.s

LOSE 00000088

Symbol: LOSE
   Definitions
      At line 128 in file WINORLOSE.s
   Uses
      At line 83 in file WINORLOSE.s
      At line 108 in file WINORLOSE.s

WIN 0000008E

Symbol: WIN
   Definitions
      At line 132 in file WINORLOSE.s
   Uses
      At line 124 in file WINORLOSE.s
Comment: WIN used once
WINORLOSE 00000000

Symbol: WINORLOSE
   Definitions
      At line 36 in file WINORLOSE.s
   Uses
      At line 28 in file WINORLOSE.s
Comment: WINORLOSE used once
checknewcursor 0000003A

Symbol: checknewcursor
   Definitions
      At line 81 in file WINORLOSE.s
   Uses
      At line 63 in file WINORLOSE.s



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

      At line 66 in file WINORLOSE.s
      At line 72 in file WINORLOSE.s
      At line 75 in file WINORLOSE.s

checknewcursor_civil 0000006C

Symbol: checknewcursor_civil
   Definitions
      At line 114 in file WINORLOSE.s
   Uses
      At line 94 in file WINORLOSE.s
      At line 97 in file WINORLOSE.s
      At line 103 in file WINORLOSE.s
      At line 106 in file WINORLOSE.s

checknewship 0000007A

Symbol: checknewship
   Definitions
      At line 122 in file WINORLOSE.s
   Uses
      At line 77 in file WINORLOSE.s
      At line 116 in file WINORLOSE.s

nextship 00000006

Symbol: nextship
   Definitions
      At line 43 in file WINORLOSE.s
   Uses
      At line 126 in file WINORLOSE.s
Comment: nextship used once
routines 00000000

Symbol: routines
   Definitions
      At line 26 in file WINORLOSE.s
   Uses
      None
Comment: routines unused
11 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

CURSOR1 20001150

Symbol: CURSOR1
   Definitions
      At line 14 in file WINORLOSE.s
   Uses
      At line 46 in file WINORLOSE.s
Comment: CURSOR1 used once
CURSOR2 20001160

Symbol: CURSOR2
   Definitions
      At line 15 in file WINORLOSE.s
   Uses
      None
Comment: CURSOR2 unused
CURSOR3 20001170

Symbol: CURSOR3
   Definitions
      At line 16 in file WINORLOSE.s
   Uses
      None
Comment: CURSOR3 unused
CURSOR4 20001180

Symbol: CURSOR4
   Definitions
      At line 17 in file WINORLOSE.s
   Uses
      None
Comment: CURSOR4 unused
SHIP1 20001100

Symbol: SHIP1
   Definitions
      At line 9 in file WINORLOSE.s
   Uses
      At line 41 in file WINORLOSE.s
Comment: SHIP1 used once
SHIP2 20001110

Symbol: SHIP2
   Definitions
      At line 10 in file WINORLOSE.s
   Uses
      None
Comment: SHIP2 unused
SHIP3 20001120

Symbol: SHIP3
   Definitions
      At line 11 in file WINORLOSE.s
   Uses
      None
Comment: SHIP3 unused
SHIP4 20001130

Symbol: SHIP4



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

   Definitions
      At line 12 in file WINORLOSE.s
   Uses
      None
Comment: SHIP4 unused
8 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

LOSER 00000000

Symbol: LOSER
   Definitions
      At line 30 in file WINORLOSE.s
   Uses
      At line 128 in file WINORLOSE.s
Comment: LOSER used once
WINNER 00000000

Symbol: WINNER
   Definitions
      At line 29 in file WINORLOSE.s
   Uses
      At line 132 in file WINORLOSE.s
Comment: WINNER used once
2 symbols
357 symbols in table
