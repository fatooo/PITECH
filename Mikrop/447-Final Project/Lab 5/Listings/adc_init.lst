


ARM Macro Assembler    Page 1 


    1 00000000         ;*******************************************************
                       ******** 
    2 00000000         ; EQU Directives
    3 00000000         ; These directives do not allocate memory
    4 00000000         ;*******************************************************
                       ********
    5 00000000         ;SYMBOL    DIRECTIVE VALUE   COMMENT
    6 00000000 400FE608 
                       SYSCTL_RCGCGPIO
                               EQU              0x400FE608  ; GPIO Gate Control
                                                            
    7 00000000 400FE638 
                       SYSCTL_RCGCADC
                               EQU              0x400FE638  ; ADC  Gate Control
                                                            
    8 00000000         
    9 00000000 40024010 
                       GPIO_PORTE_DATA
                               EQU              0x40024010  ; Access BIT2
   10 00000000 40024400 
                       GPIO_PORTE_DIR
                               EQU              0x40024400  ; Port Direction
   11 00000000 40024420 
                       GPIO_PORTE_AFSEL
                               EQU              0x40024420  ; Alt Function enab
                                                            le
   12 00000000 4002451C 
                       GPIO_PORTE_DEN
                               EQU              0x4002451C  ; Digital Enable
   13 00000000 40024528 
                       GPIO_PORTE_AMSEL
                               EQU              0x40024528  ; Analog enable
   14 00000000 4002452C 
                       GPIO_PORTE_PCTL
                               EQU              0x4002452C  ; Alternate Functio
                                                            ns
   15 00000000         
   16 00000000 40038000 
                       ADC0_ACTSS
                               EQU              0x40038000  ; Active Sample Seq
                                                            uencer
   17 00000000 400380A4 
                       ADC0_SSCTL3
                               EQU              0x400380A4  ; Sample Sequence C
                                                            ontrol 3
   18 00000000 40038014 
                       ADC0_EMUX
                               EQU              0x40038014  ; Event Multiplexer
                                                             Select
   19 00000000 400380A0 
                       ADC0_SSMUX3
                               EQU              0x400380A0  ; SS Input Mux. Sel
                                                            ect 3
   20 00000000 40038FC4 
                       ADC0_PC EQU              0x40038FC4  ; Peripheral Contro
                                                            l 
   21 00000000         
   22 00000000         ;*******************************************************
                       ********



ARM Macro Assembler    Page 2 


   23 00000000         ; Directives - This Data Section is part of the code
   24 00000000         ; It is in the read only section  so values cannot be ch
                       anged.
   25 00000000         ;*******************************************************
                       ******** 
   26 00000000         ;LABEL  DIRECTIVE VALUE   COMMENT
   27 00000000                 AREA             sdata, DATA, READONLY
   28 00000000                 THUMB
   29 00000000         
   30 00000000         ;*******************************************************
                       ********
   31 00000000         ; Program section           
   32 00000000         ;*******************************************************
                       ********
   33 00000000         ;LABEL   DIRECTIVE VALUE      COMMENT 
   34 00000000                 AREA             main, CODE, READONLY
   35 00000000                 THUMB
   36 00000000                 ALIGN
   37 00000000                 EXPORT           ADC_INIT
   38 00000000         
   39 00000000         ADC_INIT
                               PROC
   40 00000000 4922            LDR              R1, =SYSCTL_RCGCGPIO 
                                                            ; start GPIO clock
   41 00000002 6808            LDR              R0, [R1]
   42 00000004 F040 0010       ORR              R0, R0, #0x10 ; set bit 4 for p
                                                            ort E
   43 00000008 6008            STR              R0, [R1]
   44 0000000A BF00            NOP
   45 0000000C BF00            NOP
   46 0000000E BF00            NOP
   47 00000010         
   48 00000010 491F            LDR              R1, =GPIO_PORTE_AFSEL ; alterna
                                                            tive port function 
                                                            for PE3
   49 00000012 6808            LDR              R0, [R1]
   50 00000014 F040 0008       ORR              R0, R0, #0x08
   51 00000018 6008            STR              R0, [R1]
   52 0000001A         
   53 0000001A 491E            LDR              R1, =GPIO_PORTE_DIR ; configure
                                                             direction of PE3
   54 0000001C 6808            LDR              R0, [R1]
   55 0000001E F020 0008       BIC              R0, R0, #0x08 ; bit3 input
   56 00000022 6008            STR              R0, [R1]
   57 00000024         
   58 00000024 491C            LDR              R1,=GPIO_PORTE_DEN ; disable di
                                                            gital for PE3 (to e
                                                            nsure)
   59 00000026 6808            LDR              R0, [R1]
   60 00000028 F020 0008       BIC              R0, R0, #0x08
   61 0000002C 6008            STR              R0, [R1]
   62 0000002E         
   63 0000002E 491B            LDR              R1, =GPIO_PORTE_AMSEL ; enable 
                                                            analog for PE3
   64 00000030 6808            LDR              R0, [R1]
   65 00000032 F040 0008       ORR              R0, R0, #0x08
   66 00000036 6008            STR              R0, [R1]
   67 00000038         
   68 00000038 4919            LDR              R1, =SYSCTL_RCGCADC 



ARM Macro Assembler    Page 3 


                                                            ; start GPIO clock
   69 0000003A 6808            LDR              R0, [R1]
   70 0000003C F040 0001       ORR              R0, R0, #0x01 ; set bit 0 for A
                                                            DC0
   71 00000040 6008            STR              R0, [R1]
   72 00000042 BF00            NOP                          ; allow clock to se
                                                            ttle
   73 00000044 BF00            NOP
   74 00000046 BF00            NOP
   75 00000048 BF00            NOP
   76 0000004A BF00            NOP
   77 0000004C BF00            NOP
   78 0000004E BF00            NOP
   79 00000050         
   80 00000050 4914            LDR              R1,=ADC0_ACTSS ; clear bit 3 (d
                                                            isable SS3 for ADC0
                                                            ) ;before configura
                                                            tion
   81 00000052 6808            LDR              R0, [R1]
   82 00000054 F020 0008       BIC              R0, R0, #0x08
   83 00000058 6008            STR              R0, [R1]
   84 0000005A         
   85 0000005A 4913            LDR              R1,=ADC0_EMUX
   86 0000005C 6808            LDR              R0, [R1]
   87 0000005E F420 4070       BIC              R0, R0, #0xF000 ; clear bits(15
                                                            :12) to trigger SS3
                                                             of ADC0 by ;softwa
                                                            re 
   88 00000062 6008            STR              R0, [R1]
   89 00000064         
   90 00000064 4911            LDR              R1,=ADC0_SSMUX3 ; configure SS3
                                                             of ADC0 to take in
                                                            puts from ;AIN0  
   91 00000066 6808            LDR              R0, [R1]
   92 00000068 F020 000F       BIC              R0, R0, #0x0F ; write 0 to sect
                                                            ion 0 af SSMUX3
   93 0000006C 6008            STR              R0, [R1]
   94 0000006E         
   95 0000006E 4910            LDR              R1,=ADC0_SSCTL3 ; set bit2(IEN0
                                                            ) and bit3(END0) to
                                                             ;enable interrupts
                                                             from SS3 to ADC0
   96 00000070 6808            LDR              R0, [R1]    ; and to end the co
                                                            nversion after the 
                                                            1st ;sample is conv
                                                            erted
   97 00000072 F040 0006       ORR              R0, R0, #0x06
   98 00000076 6008            STR              R0, [R1]
   99 00000078         
  100 00000078 490E            LDR              R1,=ADC0_PC ; set sampling rate
                                                             to 125 kbps
  101 0000007A F04F 0001       MOV              R0, #0x01
  102 0000007E 6008            STR              R0, [R1]
  103 00000080         
  104 00000080 4908            LDR              R1,=ADC0_ACTSS ; set bit 3 to e
                                                            nable SS3 for ADC0
  105 00000082 6808            LDR              R0, [R1]
  106 00000084 F040 0008       ORR              R0, R0, #0x08
  107 00000088 6008            STR              R0, [R1]    ; ADC0 is ready to 



ARM Macro Assembler    Page 4 


                                                            take one sample by 
                                                            SS3 from AIN0
  108 0000008A         
  109 0000008A                 ENDP
  110 0000008A 4770            BX               LR
  111 0000008C         
  112 0000008C                 ALIGN
  113 0000008C                 END
              400FE608 
              40024420 
              40024400 
              4002451C 
              40024528 
              400FE638 
              40038000 
              40038014 
              400380A0 
              400380A4 
              40038FC4 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\adc_init.d -o.\objects\adc_init.o -I.\RTE\_Target_1 -
ID:\Work\ARM\PACK\Keil\TM4C_DFP\1.1.0\Device\Include\TM4C123 -ID:\Work\ARM\CMSI
S\Include --predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION SETA 526" 
--predefine="TM4C123GH6PM SETA 1" --list=.\listings\adc_init.lst ADC_init.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

sdata 00000000

Symbol: sdata
   Definitions
      At line 27 in file ADC_init.s
   Uses
      None
Comment: sdata unused
1 symbol



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

ADC_INIT 00000000

Symbol: ADC_INIT
   Definitions
      At line 39 in file ADC_init.s
   Uses
      At line 37 in file ADC_init.s
Comment: ADC_INIT used once
main 00000000

Symbol: main
   Definitions
      At line 34 in file ADC_init.s
   Uses
      None
Comment: main unused
2 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

ADC0_ACTSS 40038000

Symbol: ADC0_ACTSS
   Definitions
      At line 16 in file ADC_init.s
   Uses
      At line 80 in file ADC_init.s
      At line 104 in file ADC_init.s

ADC0_EMUX 40038014

Symbol: ADC0_EMUX
   Definitions
      At line 18 in file ADC_init.s
   Uses
      At line 85 in file ADC_init.s
Comment: ADC0_EMUX used once
ADC0_PC 40038FC4

Symbol: ADC0_PC
   Definitions
      At line 20 in file ADC_init.s
   Uses
      At line 100 in file ADC_init.s
Comment: ADC0_PC used once
ADC0_SSCTL3 400380A4

Symbol: ADC0_SSCTL3
   Definitions
      At line 17 in file ADC_init.s
   Uses
      At line 95 in file ADC_init.s
Comment: ADC0_SSCTL3 used once
ADC0_SSMUX3 400380A0

Symbol: ADC0_SSMUX3
   Definitions
      At line 19 in file ADC_init.s
   Uses
      At line 90 in file ADC_init.s
Comment: ADC0_SSMUX3 used once
GPIO_PORTE_AFSEL 40024420

Symbol: GPIO_PORTE_AFSEL
   Definitions
      At line 11 in file ADC_init.s
   Uses
      At line 48 in file ADC_init.s
Comment: GPIO_PORTE_AFSEL used once
GPIO_PORTE_AMSEL 40024528

Symbol: GPIO_PORTE_AMSEL
   Definitions
      At line 13 in file ADC_init.s
   Uses
      At line 63 in file ADC_init.s
Comment: GPIO_PORTE_AMSEL used once
GPIO_PORTE_DATA 40024010




ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

Symbol: GPIO_PORTE_DATA
   Definitions
      At line 9 in file ADC_init.s
   Uses
      None
Comment: GPIO_PORTE_DATA unused
GPIO_PORTE_DEN 4002451C

Symbol: GPIO_PORTE_DEN
   Definitions
      At line 12 in file ADC_init.s
   Uses
      At line 58 in file ADC_init.s
Comment: GPIO_PORTE_DEN used once
GPIO_PORTE_DIR 40024400

Symbol: GPIO_PORTE_DIR
   Definitions
      At line 10 in file ADC_init.s
   Uses
      At line 53 in file ADC_init.s
Comment: GPIO_PORTE_DIR used once
GPIO_PORTE_PCTL 4002452C

Symbol: GPIO_PORTE_PCTL
   Definitions
      At line 14 in file ADC_init.s
   Uses
      None
Comment: GPIO_PORTE_PCTL unused
SYSCTL_RCGCADC 400FE638

Symbol: SYSCTL_RCGCADC
   Definitions
      At line 7 in file ADC_init.s
   Uses
      At line 68 in file ADC_init.s
Comment: SYSCTL_RCGCADC used once
SYSCTL_RCGCGPIO 400FE608

Symbol: SYSCTL_RCGCGPIO
   Definitions
      At line 6 in file ADC_init.s
   Uses
      At line 40 in file ADC_init.s
Comment: SYSCTL_RCGCGPIO used once
13 symbols
352 symbols in table
